<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="/public/edit.css">
    <title>User Edit</title>
</head>
<body>

    <div class="container">
        <div class="row">
            <!-- Left Column (user info) -->
            <div class="col-md-5">
                <div class="card">
                    <a href="/viewusers" id="user">
                        <div class="image">
                            <% if (userImage) { %>
                                <img src="/uploads/<%= user.userImage.toLowerCase() %>" alt="users picture">
                            <% } else { %>
                                <svg xmlns="http://www.w3.org/2000/svg" width="20vw" height="14vw" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">
                                    <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6"/>
                                </svg>
                            <% } %>
                        </div>
                        
                        <div class="info">
                            <div class="firstname">
                                <p>
                                    <%= user.firstName %> <%= user.lastName %>
                                </p>
                            </div>
                            <div class="username">
                                <p>
                                    <%= user.username %>
                                </p>
                            </div>
                            <div class="dob">
                                <p>
                                    <%= user.birthday %>
                                </p>
                            </div>
                    
                            <div class="prof">
                                <p>
                                    <%= user.occupation %>
                                </p>
                            </div>
                        </div>    
                    </a>
                </div>
            </div>

            <!-- Right Column (Update Form) -->
<div class="col-md-7">
    <div class="form">
        <form method="POST" enctype="multipart/form-data" action="/editusers">
            <input type="hidden" name="userId" value="<%= user.id %>">

            <label for="firstName">First Name:</label>
            <input type="text" id="firstName" name="firstName" value="<%= user.firstName %>" required>

            <label for="lastName">Last Name:</label>
            <input type="text" id="lastName" name="lastName" value="<%= user.lastName %>">

            <label for="username">Username:</label>
            <input type="text" id="username" name="username" value="<%= user.username %>">

            <label for="birthday">Birthday:</label>
            <input type="date" id="birthday" name="birthday" value="<%= user.birthday %>">

            <label for="userImage">Image:</label>
            <input type="file" accept="image/*" id="userImage" name="userImage">

            <label for="occupation">Occupation:</label>
            <input type="text" id="occupation" name="occupation" value="<%= user.occupation %>">

            <button type="submit">Save Changes</button>
        </form>
    </div>
</div>

        </div>
    </div>

</body>
</html>
